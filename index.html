<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dinamik Kelime Kartı | v3.3 (B Harfi) - Görsel Destekli</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* Ana Stil */
        body {
            background-color: #f0f2f5;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 30px;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
            margin: 0;
            justify-content: center;
            user-select: none;
        }

        /* Kartın Kendisi */
        .card {
            background-color: white;
            width: 350px;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            position: relative;
            margin-top: 20px;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease, opacity 0.3s ease;
            opacity: 0;
            transform: translateY(10px);
        }

        .card.active {
            opacity: 1;
            transform: translateY(0);
        }
        
        .card:active {
            transform: scale(0.98);
        }

        /* Görsel Alanı */
        .image-container {
            width: 100%;
            height: 200px;
            border-radius: 15px;
            overflow: hidden;
            margin-bottom: 20px;
            background-color: #eee;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.5s ease;
        }

        /* Kart İçeriği Stilleri */
        .header { margin-bottom: 25px; } /* Hafifçe artırıldı */
        .word-row { display: flex; align-items: center; gap: 15px; }
        .speaker-icon { 
            color: #1976D2;
            font-size: 28px; /* Orijinaline geri getirildi */
            cursor: pointer; 
            padding: 10px;
            border-radius: 50%;
            transition: background 0.2s; 
        }
        .speaker-icon:hover { background: #E3F2FD; }
        
        h1 { color: #2D3748; margin: 0; font-size: 36px; font-weight: 800; text-transform: capitalize; } /* Orijinaline geri getirildi */
        .meaning { color: #718096; margin-top: 5px; margin-left: 58px; font-size: 18px; font-weight: 500;} /* Orijinaline geri getirildi */
        
        .box { 
            border: 1px solid #E2E8F0; 
            border-radius: 15px; 
            padding: 15px; 
            margin-bottom: 12px; 
            background: #F7FAFC;
        }
        .row { display: flex; gap: 10px; }
        .tag { font-weight: bold; color: #1976D2; font-size: 14px; min-width: 35px; }
        .content { flex: 1; }
        .en-sentence { color: #2D3748; font-size: 16px; margin: 0 0 8px 0; line-height: 1.5; }
        .highlight { color: #E53E3E; font-weight: bold; background: #fff5f5; padding: 0 4px; border-radius: 4px; }
        .divider { border-top: 1px dotted #CBD5E0; margin: 5px 0; }
        .tr-sentence { color: #718096; font-size: 15px; margin: 5px 0 0 0; }
        .synonyms-text { color: #2D3748; margin: 0; font-size: 15px; }
        .box.small { padding: 12px 15px; border-radius: 30px; margin-bottom: 0;}

        /* Navigator Bilgisi */
        .info-bar {
            color: #718096;
            margin-top: 20px;
            font-size: 14px;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .nav-hint { font-size: 12px; opacity: 0.6; margin-top: 5px;}

    </style>
</head>
<body>

    <div id="card-container"></div>
    
    <div class="info-bar">
        <span id="info-text">Yükleniyor...</span>
    </div>
    <div class="nav-hint">İpucu: Yön tuşlarını kullanabilirsiniz (← / →)</div>

    <script>
        // Görsel verisi eklenmiş veritabanı - Bağlantılar kontrol edildi
        const wordList = [
            { 
                word: "be", 
                meaning: "olmak, bulunmak", 
                image: "https://images.pexels.com/photos/19131215/pexels-photo-19131215/free-photo-of-kadin-oturmak-gulumsemek-doktor.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",
                example_en: "I want to [be] a doctor.", 
                example_tr: "Doktor olmak istiyorum.", 
                synonyms: "exist, happen"
            },
            { 
                word: "beach", 
                meaning: "plaj, sahil", 
                image: "https://images.pexels.com/photos/14992498/pexels-photo-14992498.jpeg?cs=srgb&dl=pexels-d-ng-thanh-tu-2922122-14992498.jpg&fm=jpg",
                example_en: "We walked along the [beach].", 
                example_tr: "Plaj boyunca yürüdük.", 
                synonyms: "shore, coast"
            },
            { 
                word: "beautiful", 
                meaning: "güzel", 
                image: "https://st.depositphotos.com/1276052/1324/i/450/depositphotos_13249922-stock-photo-portrait-of-cute-little-girl.jpg",
                example_en: "She has a [beautiful] smile.", 
                example_tr: "Onun güzel bir gülümsemesi var.", 
                synonyms: "lovely, pretty"
            },
            { 
                word: "because", 
                meaning: "çünkü", 
                image: "https://images.pexels.com/photos/251313/pexels-photo-251313.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
                example_en: "I stayed home [because] it rained.", 
                example_tr: "Yağmur yağdığı için evde kaldım.", 
                synonyms: "since, as"
            },
            { 
                word: "become", 
                meaning: "haline gelmek", 
                image: "https://images.pexels.com/photos/725255/pexels-photo-725255.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",
                example_en: "He wants to [become] successful.", 
                example_tr: "Başarılı olmak istiyor.", 
                synonyms: "turn into, grow"
            },
            { 
                word: "bed", 
                meaning: "yatak", 
                image: "https://images.pexels.com/photos/15743375/pexels-photo-15743375/free-photo-of-lambalar-duvar-yatak-boyama.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",
                example_en: "I need to make my [bed].", 
                example_tr: "Yatağımı toplamam gerekiyor.", 
                synonyms: "cot, sleeper"
            },
            { 
                word: "bedroom", 
                meaning: "yatak odası", 
                image: "https://images.pexels.com/photos/1329711/pexels-photo-1329711.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",
                example_en: "My [bedroom] is upstairs.", 
                example_tr: "Yatak odam üst katta.", 
                synonyms: "chamber, sleeping room"
            },
            { 
                word: "beer", 
                meaning: "bira", 
                image: "https://media.istockphoto.com/id/1287217096/tr/foto%C4%9Fraf/bar-masas%C4%B1nda-lezzetli-zanaat-bira.jpg?s=612x612&w=0&k=20&c=fD9gFNiBwDJ8foiZzL3VqgzSmUtDOfMEAv0npuKHGOI=",
                example_en: "Would you like a glass of [beer]?", 
                example_tr: "Bir bardak bira ister misin?", 
                synonyms: "ale, brew"
            },
            { 
                word: "before", 
                meaning: "önce", 
                image: "https://media.istockphoto.com/id/1645049813/tr/foto%C4%9Fraf/woman-washing-hands-to-kill-germs.jpg?b=1&s=612x612&w=0&k=20&c=uFhOQb8B8FhaJ145HvfnxC4b1rwMPP9qGymk2X5C7mM=",
                example_en: "Wash your hands [before] eating.", 
                example_tr: "Yemek yemeden önce ellerini yıka.", 
                synonyms: "prior to, earlier"
            },
            { 
                word: "begin", 
                meaning: "başlamak", 
                image: "https://images.pexels.com/photos/7081182/pexels-photo-7081182.jpeg",
                example_en: "The film will [begin] soon.", 
                example_tr: "Film yakında başlayacak.", 
                synonyms: "start, commence"
            },
            { 
                word: "beginning", 
                meaning: "başlangıç", 
                image: "https://images.pexels.com/photos/3124406/pexels-photo-3124406.jpeg?cs=srgb&dl=pexels-ladfury-3124406.jpg&fm=jpg",
                example_en: "This is just the [beginning].", 
                example_tr: "Bu sadece başlangıç.", 
                synonyms: "start, outset"
            },
            { 
                word: "behind", 
                meaning: "arkasında", 
                image: "https://images.pexels.com/photos/20218527/pexels-photo-20218527/free-photo-of-cicekler-araba-otomobil-arac.jpeg?auto=compress&cs=tinysrgb&w=1260&h=750&dpr=1",
                example_en: "The car is parked [behind] the house.", 
                example_tr: "Araba evin arkasına park edilmiş.", 
                synonyms: "at the rear of, after"
            },
            { 
                word: "believe", 
                meaning: "inanmak", 
                image: "https://images.pexels.com/photos/34934402/pexels-photo-34934402.png?cs=srgb&dl=pexels-tbd-tuyen-859104985-34934402.jpg&fm=jpg",
                example_en: "Do you [believe] in magic?", 
                example_tr: "Sihire inanır mısın?", 
                synonyms: "trust, accept"
            },
            { 
                word: "below", 
                meaning: "altında", 
                image: "https://media.istockphoto.com/id/1304930757/tr/foto%C4%9Fraf/kumda-termometre-mavi-g%C3%B6ky%C3%BCz%C3%BC-arka-plan%C4%B1-s%C4%B1cakl%C4%B1k-k%C4%B1rk-derece-celcius-3d-ill%C3%BCstrasyon.jpg?s=612x612&w=0&k=20&c=lfVCugbLmCjYBnjFX7Oc7UNddZ-_KLV6HWgzU3ZTB5k=",
                example_en: "The temperature is [below] zero.", 
                example_tr: "Sıcaklık sıfırın altında.", 
                synonyms: "under, beneath"
            },
            { 
                word: "best", 
                meaning: "en iyi", 
                image: "https://media.istockphoto.com/id/1467739359/tr/foto%C4%9Fraf/cup-of-coffee-with-smoke-and-coffee-beans-on-old-wooden-background.jpg?b=1&s=612x612&w=0&k=20&c=gR8wbnR-45UH5rb11maJDxr3hOte4gwY6CWiDjfkx3k=",
                example_en: "This is the [best] coffee ever.", 
                example_tr: "Bu, gelmiş geçmiş en iyi kahve.", 
                synonyms: "finest, greatest"
            },
            { 
                word: "better", 
                meaning: "daha iyi", 
                image: "https://images.pexels.com/photos/3761517/pexels-photo-3761517.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",
                example_en: "I feel much [better] today.", 
                example_tr: "Bugün çok daha iyi hissediyorum.", 
                synonyms: "superior, improved"
            },
            { 
                word: "between", 
                meaning: "arasında (iki şeyin)", 
                image: "https://images.pexels.com/photos/19089507/pexels-photo-19089507/free-photo-of-sonbahar-guz-dusmek-kitap.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",
                example_en: "The key is [between] the books.", 
                example_tr: "Anahtar kitapların arasında.", 
                synonyms: "amidst, separating"
            },
            { 
                word: "bicycle", 
                meaning: "bisiklet", 
                image: "https://media.istockphoto.com/id/1215613999/tr/foto%C4%9Fraf/gen%C3%A7-kad%C4%B1n-bisikletle-i%C5%9Fe-gidiyor.jpg?b=1&s=612x612&w=0&k=20&c=qfPGvSvBi2eYEnubPTg0bcczipEvO0ZFqvwE0eEGlFc=",
                example_en: "I ride my [bicycle] to work.", 
                example_tr: "İşe bisikletimle gidiyorum.", 
                synonyms: "bike, cycle"
            },
            { 
                word: "big", 
                meaning: "büyük", 
                image: "https://media.istockphoto.com/id/145054512/tr/foto%C4%9Fraf/front-stone-faced-single-family-house-home-suburban-maryland.jpg?b=1&s=612x612&w=0&k=20&c=2jACXLjRGHGr_MfUvSOHl_wFe_0dvu0ibBrZo4JMn6Q=",
                example_en: "They live in a [big] house.", 
                example_tr: "Onlar büyük bir evde yaşıyor.", 
                synonyms: "large, huge"
            },
            { 
                word: "bike", 
                meaning: "bisiklet", 
                image: "https://images.pexels.com/photos/20461699/pexels-photo-20461699/free-photo-of-daglar-adam-spor-bisiklet.jpeg?auto=compress&cs=tinysrgb&dpr=1&w=500",
                example_en: "Do you have a mountain [bike]?", 
                example_tr: "Dağ bisikletin var mı?", 
                synonyms: "bicycle, cycle"
            }
        ];

        let currentIndex = 0;
        const container = document.getElementById('card-container');
        const infoText = document.getElementById('info-text');

        // Sesli Okuma Fonksiyonu
        function speakWord(text) {
            if ('speechSynthesis' in window) {
                window.speechSynthesis.cancel();
                const msg = new SpeechSynthesisUtterance();
                msg.text = text;
                msg.lang = 'en-US'; 
                msg.rate = 0.9; 
                window.speechSynthesis.speak(msg);
            }
        }

        // Kart Oluşturma
        function createCard(data) {
            const { word, meaning, image, example_en, example_tr, synonyms } = data;
            
            let highlightedExample = example_en;
            if (example_en.includes('[')) {
                highlightedExample = example_en
                    .replace(`[${word}]`, `<span class="highlight">${word}</span>`)
                    .replace(`[${word.charAt(0).toUpperCase() + word.slice(1)}]`, `<span class="highlight">${word.charAt(0).toUpperCase() + word.slice(1)}</span>`); 
            } else {
                const regex = new RegExp(`\\b${word}\\b`, 'gi');
                highlightedExample = example_en.replace(regex, (match) => `<span class="highlight">${match}</span>`);
            }
            
            const synonymsText = synonyms || '-';

            const cardHTML = `
                <div class="card" id="active-card" onclick="nextCard()">
                    
                    <div class="image-container">
                        <img src="${image}" alt="${word}" loading="lazy">
                    </div>

                    <div class="header">
                        <div class="word-row">
                            <i class="fas fa-volume-up speaker-icon" title="Dinle" onclick="event.stopPropagation(); speakWord('${word}')"></i>
                            <h1>${word}</h1>
                        </div>
                        <p class="meaning">${meaning}</p>
                    </div>

                    <div class="box">
                        <div class="row">
                            <span class="tag">Ör.</span>
                            <div class="content">
                                <p class="en-sentence">${highlightedExample}</p>
                                <div class="divider"></div>
                                <p class="tr-sentence">${example_tr}</p>
                            </div>
                        </div>
                    </div>

                    <div class="box small">
                        <div class="row">
                            <span class="tag">Eş A.</span>
                            <div class="content">
                                <p class="synonyms-text">${synonymsText}</p>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            container.innerHTML = cardHTML;
            
            setTimeout(() => {
                const card = document.getElementById('active-card');
                if(card) card.classList.add('active');
            }, 50);

            updateInfoBar();
        }
        
        function updateInfoBar() {
            infoText.textContent = `Kart ${currentIndex + 1} / ${wordList.length}`;
        }

        function nextCard() {
            // Önceki kartı yavaşça kaldır
            const oldCard = document.getElementById('active-card');
            if (oldCard) {
                oldCard.classList.remove('active');
                oldCard.style.transform = 'translateX(-20px)';
                oldCard.style.opacity = '0';
            }

            currentIndex = (currentIndex + 1) % wordList.length;
            
            // Yeni kartı oluştur
            setTimeout(() => {
                createCard(wordList[currentIndex]);
            }, 200); // Kaldırma animasyonu bitmeden yenisini yükle

        }
        
        function prevCard() {
            // Önceki kartı yavaşça kaldır
            const oldCard = document.getElementById('active-card');
            if (oldCard) {
                oldCard.classList.remove('active');
                oldCard.style.transform = 'translateX(20px)';
                oldCard.style.opacity = '0';
            }

            currentIndex = (currentIndex - 1 + wordList.length) % wordList.length;
            
            // Yeni kartı oluştur
            setTimeout(() => {
                createCard(wordList[currentIndex]);
            }, 200); // Kaldırma animasyonu bitmeden yenisini yükle
        }

        // Klavye Kontrolleri
        document.addEventListener('keydown', (e) => {
            if (e.key === 'ArrowRight' || e.key === ' ' || e.key === 'Enter') {
                nextCard();
            } else if (e.key === 'ArrowLeft') {
                prevCard();
            } else if (e.key === 'ArrowUp') {
                speakWord(wordList[currentIndex].word);
            }
        });

        // Başlangıç
        window.onload = function() {
            if (wordList.length > 0) {
                createCard(wordList[currentIndex]);
            } else {
                container.innerHTML = '<h2>Liste boş.</h2>';
            }
        };
    </script>
</body>
</html>
